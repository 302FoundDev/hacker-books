---
import Layout from '../../layouts/Layout.astro'
import { SHOW_BUY_BUTTON } from 'astro:env/server'
import BuyButton from '../../components/BuyButton.astro'
import { getCollection } from 'astro:content'

export const getStaticPaths = (async () => {
  const books = await getCollection('books')

  return books.map(book => {
    params: { id: book.slug }
    props: { title: book.slug }
  })
})

const { title } = Astro.props
---

<Layout title={`${title} - Hacker Books`}>

  <div class='flex gap-6 justify-center mt-24'>

    <aside>
      <a href=""></a>
      <img src="" alt="">
      <BuyButton>Buy on Amazon</BuyButton>
    </aside>
    <section>

    </section>

  </div>

</Layout>
